<h1>Friends</h1>

<div class="top-links">
  <a [routerLink]="['/logout']"> &larr; Logout</a> |
  <a [routerLink]="['/settings']">Settings</a>
</div>

<hr />

<fieldset class="special-fieldset">
  <ul>
    <li class="friend-list-item" *ngFor="let item of myFriends" (click)="chat(friendsName)">
      <div class="friend-list-text" #friendsName>
        {{ item.username }}
      </div>
      <div [hidden]="item.unreadMessages == null || item.unreadMessages == 0" class="friend-list-counter">
        {{ item.unreadMessages }}
      </div>
    </li>
  </ul>
</fieldset>

<hr />

<h3>New Request</h3>

<ol>
  <li class="request-list-item" *ngFor="let item of myFriendsRequests;index as i;">
    <div class="request-list-text">
      Friend request from <b> {{ item }} </b>
    </div>
    <div class="request-list-buttons">
        <button class="request-button-accept" type="button" (click)="acceptRequest(item)">Accept</button>
        <button class="request-button-dismis" type="button" (click)="rejectRequest(item)">Reject</button>
    </div>
    <hr [hidden]="i == myFriendsRequests.length - 1" class="request-list-seperator"/>
  </li>
</ol>

<hr />

<form>
  <input
    id="friend-add-input"
    class="long-input"
    type="text"
    name="new-friend"
    placeholder="Add Friend to List"
    [formControl]="typeahead"
    [(ngModel)]="newFriend"
    (input)="suggest()"
    required
  />
  <button class="long-button" type="submit" (click)="addFriend()">Add</button>
    <ul class="suggestion-list" *ngIf="suggestUsers.length">
      <li class="suggestion-item" *ngFor="let user of suggestUsers" (click)="select(user)">
        {{ user }}
      </li>
    </ul>
</form>